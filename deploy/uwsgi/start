uwsgi --chdir=/home/roselle/sites/bookshop \
    --module=config.wsgi:application \
    --env DJANGO_SETTINGS_MODULE=settings.local \
    --master --pidfile=/tmp/bookshop.pid \
    --socket=/home/roselle/sites/bookshop/bookshop.sock \      # can also be a file
    --processes=5 \                 # number of worker processes
    --uid=1000 --gid=2000 \         # if root, uwsgi can drop privileges
    --harakiri=20 \                 # respawn processes taking more than 20 seconds
    --max-requests=5000 \           # respawn processes after serving 5000 requests
    --vacuum \                      # clear environment on exit
    --home=/home/roselle/sites/bookshop/venv \   # optional path to a virtualenv
    --daemonize=/home/roselle/sites/bookshop/deploy/logs/uwsgi.log      # background the process